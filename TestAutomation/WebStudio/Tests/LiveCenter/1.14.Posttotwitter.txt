*** Settings ***

Documentation  A test case to create an entry and post it to twitter

Resource       common_resource.txt


*** Test Cases ***

Create an entry and post it to twitter
	Close All Browsers
	Login To Escenic Live Center
	Open an Event
	${time} = 	Get Time
	Create Entry  Entry with post to twitter from ${BROWSER} in ${time}
	Click Element  css=#field-twitter-post-
	Publish Entry
	Wait Until Page Contains Element  css=input[class="ng-valid ng-scope ng-dirty ng-touched"]  60
	Wait Until Page Contains Element  xpath=//*[@id="event-container"]/div/div[4]/div[2]/div[1]/div[6]  30
	Page Should Contain Element  xpath=//*[@id="event-container"]/div/div[4]/div[2]/div[1]/div[6]
	${prsentationLink}=  Get Element Attribute  css=a[href^="http"]@href
	Wait Until Element Contains  xpath=//*[@id="event-container"]/div/div[4]/div[2]/div[1]/div[6]  Entry with post to twitter from ${BROWSER}  50
	Element Should Contain    xpath=//*[@id="event-container"]/div/div[4]/div[2]/div[1]/div[6]  Entry with post to twitter from ${BROWSER}
	Open live center publication event page
	Wait Until Page Contains Element  xpath=//h2[contains(text(),'Entry with post to twitter from ${BROWSER}')]  20
	Page Should Contain Element  xpath=//h2[contains(text(),'Entry with post to twitter from ${BROWSER}')]